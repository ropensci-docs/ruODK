<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content=""><title>Retrieve and rectangle form submissions, parse dates, geopoints, download and
link attachments. — odata_submission_get • ruODK</title><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Retrieve and rectangle form submissions, parse dates, geopoints, download and
link attachments. — odata_submission_get"><meta property="og:description" content=""><meta property="og:image" content="https://docs.ropensci.org/ruODK/reference/figures/ruODK2.png"><meta property="og:image:alt" content="An R Client for the ODK Central API"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:creator" content="@florianm"><meta name="twitter:site" content="@rOpenSci"><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript><!-- End Matomo Code --></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">ruODK</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.4.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/comparison.html">Comparison of related software packages</a>
    <a class="dropdown-item" href="../articles/odata-api.html">Accessing the OData API</a>
    <a class="dropdown-item" href="../articles/restful-api.html">Accessing the RESTful API</a>
    <a class="dropdown-item" href="../articles/setup.html">Setup</a>
    <a class="dropdown-item" href="../articles/spatial.html">Spatial data</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/ruODK/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Retrieve and rectangle form submissions, parse dates, geopoints, download and
link attachments.</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/ruODK/blob/HEAD/R/odata_submission_get.R" class="external-link"><code>R/odata_submission_get.R</code></a></small>
      <div class="d-none name"><code>odata_submission_get.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="figures/lifecycle-stable.svg" alt="[Stable]"></a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">odata_submission_get</span><span class="op">(</span></span>
<span>  table <span class="op">=</span> <span class="st">"Submissions"</span>,</span>
<span>  skip <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  top <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  count <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  wkt <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  expand <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  filter <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  parse <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  download <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  orders <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"YmdHMS"</span>, <span class="st">"YmdHMSz"</span>, <span class="st">"Ymd HMS"</span>, <span class="st">"Ymd HMSz"</span>, <span class="st">"Ymd"</span>, <span class="st">"ymd"</span><span class="op">)</span>,</span>
<span>  local_dir <span class="op">=</span> <span class="st">"media"</span>,</span>
<span>  pid <span class="op">=</span> <span class="fu"><a href="ru_settings.html">get_default_pid</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  fid <span class="op">=</span> <span class="fu"><a href="ru_settings.html">get_default_fid</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  url <span class="op">=</span> <span class="fu"><a href="ru_settings.html">get_default_url</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  un <span class="op">=</span> <span class="fu"><a href="ru_settings.html">get_default_un</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  pw <span class="op">=</span> <span class="fu"><a href="ru_settings.html">get_default_pw</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  odkc_version <span class="op">=</span> <span class="fu"><a href="ru_settings.html">get_default_odkc_version</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  tz <span class="op">=</span> <span class="fu"><a href="ru_settings.html">get_default_tz</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  retries <span class="op">=</span> <span class="fu"><a href="ru_settings.html">get_retries</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  verbose <span class="op">=</span> <span class="fu"><a href="ru_settings.html">get_ru_verbose</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>table</dt>
<dd><p>The submission EntityType, or in plain words, the table name.
Default: <code>Submissions</code> (the main table).
Change to <code>Submissions.GROUP_NAME</code> for repeating form groups.
The group name can be found through <code><a href="odata_service_get.html">odata_service_get</a></code>.</p></dd>


<dt>skip</dt>
<dd><p>The number of rows to be omitted from the results.
Example: 10, default: <code>NA</code> (none skipped).</p></dd>


<dt>top</dt>
<dd><p>The number of rows to return.
Example: 100, default: <code>NA</code> (all returned).</p></dd>


<dt>count</dt>
<dd><p>If TRUE, an <code>@odata.count</code> property will be returned in the
response from ODK Central. Default: <code>FALSE</code>.</p></dd>


<dt>wkt</dt>
<dd><p>If TRUE, geospatial data will be returned as WKT (Well Known Text)
strings. Default: <code>FALSE</code>, returns GeoJSON structures.
Note that accuracy is only returned through GeoJSON.</p></dd>


<dt>expand</dt>
<dd><p>If TRUE, all subtables will be expanded and included with
column names containing the number of the repeat, the group name, and the
field name. This parameter is supported from ODK Central v1.2 onwards and
will be ignored on earlier versions of ODK Central. The version is inferred
from the parameter <code>odkc_version</code>.
Default: FALSE.</p></dd>


<dt>filter</dt>
<dd><p>If provided, will filter responses to those matching the query.
For an <code>odkc_version</code> below 1.1, this parameter will be discarded.
As of ODK Central v1.5, the fields <code>system/submitterId</code>,
<code>system/submissionDate</code>, <code>__system/updatedAt</code>  and <code>__system/reviewState</code>
are available to reference.
The operators <code>lt</code>, <code>lte</code>, <code>eq</code>, <code>neq</code>, <code>gte</code>, <code>gt</code>, <code>not</code>, <code>and</code>, and <code>or</code>
are supported, and the built-in functions
<code>now</code>, <code>year</code>, <code>month</code>, <code>day</code>, <code>hour</code>, <code>minute</code>, <code>second.</code>
<code>ruODK</code> does not validate the query string given to <code>filter</code>.
It is highly recommended to refer to the ODK Central API documentation
as well as the
<a href="https://docs.oasis-open.org/odata/odata/v4.01/odata-v4.01-part1-protocol.html#_Toc31358948" class="external-link">OData spec on filters</a>.
for filter options and capabilities.</p></dd>


<dt>parse</dt>
<dd><p>Whether to parse submission data based on form schema.
Dates and datetimes will be parsed into local time.
Attachments will be downloaded, and the field updated to the local file
path.
Point locations will be split into components; GeoJSON (<code>wkt=FALSE</code>)
will be split into latitude, longitude, altitude and accuracy
(with anonymous field names), while WKT will be split into
longitude, latitude,and altitude (missing accuracy) prefixed by
the original field name.
See details for the handling of geotraces and geoshapes.
Default: TRUE.</p></dd>


<dt>download</dt>
<dd><p>Whether to download attachments to <code>local_dir</code> or not.
If in the future ODK Central supports hot-linking attachments,
this parameter will replace attachment file names with their fully
qualified attachment URL.
Default: TRUE.</p></dd>


<dt>orders</dt>
<dd><p>(vector of character) Orders of datetime elements for
lubridate.
Default:
<code>c("YmdHMS", "YmdHMSz", "Ymd HMS", "Ymd HMSz", "Ymd", "ymd")</code>.</p></dd>


<dt>local_dir</dt>
<dd><p>The local folder to save the downloaded files to,
default: <code>"media"</code>.</p></dd>


<dt>pid</dt>
<dd><p>The numeric ID of the project, e.g.: 2.</p>
<p>Default: <code><a href="ru_settings.html">get_default_pid</a></code>.</p>
<p>Set default <code>pid</code> through <code>ru_setup(pid="...")</code>.</p>
<p>See <code>vignette("Setup", package = "ruODK")</code>.</p></dd>


<dt>fid</dt>
<dd><p>The alphanumeric form ID, e.g. "build_Spotlighting-0-8_1559885147".</p>
<p>Default: <code><a href="ru_settings.html">get_default_fid</a></code>.</p>
<p>Set default <code>fid</code> through <code>ru_setup(fid="...")</code>.</p>
<p>See <code>vignette("Setup", package = "ruODK")</code>.</p></dd>


<dt>url</dt>
<dd><p>The ODK Central base URL without trailing slash.</p>
<p>Default: <code><a href="ru_settings.html">get_default_url</a></code>.</p>
<p>Set default <code>url</code> through <code>ru_setup(url="...")</code>.</p>
<p>See <code>vignette("Setup", package = "ruODK")</code>.</p></dd>


<dt>un</dt>
<dd><p>The ODK Central username (an email address).
Default: <code><a href="ru_settings.html">get_default_un</a></code>.
Set default <code>un</code> through <code>ru_setup(un="...")</code>.
See <code>vignette("Setup", package = "ruODK")</code>.</p></dd>


<dt>pw</dt>
<dd><p>The ODK Central password.
Default: <code><a href="ru_settings.html">get_default_pw</a></code>.
Set default <code>pw</code> through <code>ru_setup(pw="...")</code>.
See <code>vignette("Setup", package = "ruODK")</code>.</p></dd>


<dt>odkc_version</dt>
<dd><p>The ODK Central version as a semantic version string
(year.minor.patch), e.g. "2023.5.1". The version is shown on ODK Central's
version page <code>/version.txt</code>. Discard the "v".
<code>ruODK</code> uses this parameter to adjust for breaking changes in ODK Central.</p>
<p>Default: <code><a href="ru_settings.html">get_default_odkc_version</a></code> or "2023.5.1" if unset.</p>
<p>Set default <code>get_default_odkc_version</code> through
<code>ru_setup(odkc_version="2023.5.1")</code>.</p>
<p>See <code>vignette("Setup", package = "ruODK")</code>.</p></dd>


<dt>tz</dt>
<dd><p>A timezone to convert dates and times to.</p>
<p>Read <code><a href="../articles/setup.html">vignette("setup", package = "ruODK")</a></code> to learn how <code>ruODK</code>'s
timezone can be set globally or per function.</p></dd>


<dt>retries</dt>
<dd><p>The number of attempts to retrieve a web resource.</p>
<p>This parameter is given to <code><a href="https://httr.r-lib.org/reference/RETRY.html" class="external-link">RETRY</a>(times = retries)</code>.</p>
<p>Default: 3.</p></dd>


<dt>verbose</dt>
<dd><p>Whether to display debug messages or not.</p>
<p>Read <code><a href="../articles/setup.html">vignette("setup", package = "ruODK")</a></code> to learn how <code>ruODK</code>'s
verbosity can be set globally or per function.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A list of lists.</p><ul><li><p><code>value</code> contains the submissions as list of lists.</p></li>
<li><p><code>@odata.context</code> is the URL of the metadata.</p></li>
<li><p><code>@odata.count</code> is the total number of rows in the table.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>odata_submission_get</code> downloads submissions from
(default) the main form group (submission table) including any non-repeating
form groups, or from any other table as specified by parameter <code>table</code>.</p>
<p>With parameter <code>parse=TRUE</code> (default), submission data is parsed into a
tibble. Any fields of type <code>dateTime</code> or <code>date</code> are parsed into
dates, with an optional parameter <code>tz</code> to specify the local timezone.</p>
<p>A parameter <code>local_dir</code> (default: <code>media</code>) specifies a local
directory for downloaded attachment files.
Already existing, previously downloaded attachments will be retained.</p>
<p>With parameter <code>wkt=TRUE</code>, spatial fields will be returned as WKT, rather
than GeoJSON. In addition, fields of type <code>geopoint</code> will be split into
latitude, longitude, and altitude, prefixed with the original field name.
E.g. a field <code>start_location</code> of type <code>geopoint</code> will be split into
<code>start_location_latitude</code>, <code>start_location_longitude</code>, and
<code>start_location_altitude</code>. The field name prefix will allow multiple fields
of type <code>geopoint</code> to be split into their components without naming
conflicts.</p>
<p>Geotraces (lines) and gepshapes (polygons) will be retained in their original
format, plus columns of their first point's coordinate components as
provided by <code><a href="split_geotrace.html">split_geotrace</a></code> and <code><a href="split_geoshape.html">split_geoshape</a></code>,
respectively.</p>
<p>Entirely unpopulated form fields, as well as notes and form groups, will be
excluded from the resulting tibble.
Submitting at least one complete form instance will prevent the accidental
exclusion of an otherwise mostly empty form field.</p>
<p>The only remaining manual step is to optionally join any sub-tables to the
master table.</p>
<p>The parameter <code>verbose</code> enables diagnostic messages along the download
and parsing process.</p>
<p>With parameter <code>parse=FALSE</code>, submission data is presented as nested
list, which is the R equivalent of the JSON structure returned from the API.
From there, <code><a href="odata_submission_rectangle.html">odata_submission_rectangle</a></code> can rectangle the data
into a tibble, and subsequent lines of <code><a href="handle_ru_datetimes.html">handle_ru_datetimes</a></code>,
<code><a href="handle_ru_attachments.html">handle_ru_attachments</a></code>, <code><a href="handle_ru_geopoints.html">handle_ru_geopoints</a></code>,
<code><a href="handle_ru_geotraces.html">handle_ru_geotraces</a></code>, and <code><a href="handle_ru_geoshapes.html">handle_ru_geoshapes</a></code>
parse dates, download and link file attachments, and extract coordinates from
geofields.
<code>ruODK</code> offers this manual and explicit pathway as an option to
investigate and narrow down unexpected or unwanted behaviour.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="https://docs.getodk.org/central-api-odata-endpoints/#odata-form-service" class="external-link">https://docs.getodk.org/central-api-odata-endpoints/#odata-form-service</a></p>
<p><a href="https://docs.getodk.org/central-api-odata-endpoints/#data-document" class="external-link">https://docs.getodk.org/central-api-odata-endpoints/#data-document</a></p>
<p>Other odata-api: 
<code><a href="odata_metadata_get.html">odata_metadata_get</a>()</code>,
<code><a href="odata_service_get.html">odata_service_get</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># See vignette("setup") for setup and authentication options</span></span></span>
<span class="r-in"><span><span class="co"># ruODK::ru_setup(svc = "....svc", un = "me@email.com", pw = "...")</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">form_tables</span> <span class="op">&lt;-</span> <span class="fu">ruODK</span><span class="fu">::</span><span class="fu"><a href="odata_service_get.html">odata_service_get</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">odata_submission_get</span><span class="op">(</span><span class="op">)</span> <span class="co"># default: main data table</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">odata_submission_get</span><span class="op">(</span>table <span class="op">=</span> <span class="va">form_tables</span><span class="op">$</span><span class="va">url</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span> <span class="co"># same, explicitly</span></span></span>
<span class="r-in"><span><span class="va">data_sub1</span> <span class="op">&lt;-</span> <span class="fu">odata_submission_get</span><span class="op">(</span>table <span class="op">=</span> <span class="va">form_tables</span><span class="op">$</span><span class="va">url</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span> <span class="co"># sub-table 1</span></span></span>
<span class="r-in"><span><span class="va">data_sub2</span> <span class="op">&lt;-</span> <span class="fu">odata_submission_get</span><span class="op">(</span>table <span class="op">=</span> <span class="va">form_tables</span><span class="op">$</span><span class="va">url</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span> <span class="co"># sub-table 2</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Skip one row, return the next 1 rows (top), include total row count</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">odata_submission_get</span><span class="op">(</span></span></span>
<span class="r-in"><span>  table <span class="op">=</span> <span class="va">form_tables</span><span class="op">$</span><span class="va">url</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>  skip <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  top <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  count <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Filter submissions</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">odata_submission_get</span><span class="op">(</span></span></span>
<span class="r-in"><span>  table <span class="op">=</span> <span class="va">form_tables</span><span class="op">$</span><span class="va">url</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>  filter <span class="op">=</span> <span class="st">"year(__system/submissionDate) lt year(now())"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">odata_submission_get</span><span class="op">(</span></span></span>
<span class="r-in"><span>  table <span class="op">=</span> <span class="va">form_tables</span><span class="op">$</span><span class="va">url</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>  filter <span class="op">=</span> <span class="st">"year(__system/submissionDate) lt 2020"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># To include all of the month of January, you need to filter by either</span></span></span>
<span class="r-in"><span><span class="co"># filter = "__system/submissionDate le 2020-01-31T23:59:59.999Z"</span></span></span>
<span class="r-in"><span><span class="co"># or</span></span></span>
<span class="r-in"><span><span class="co"># filter = "__system/submissionDate lt 2020-02-01".</span></span></span>
<span class="r-in"><span><span class="co"># Instead of timezone UTC ("Z"), you can also filter by any other timezone.</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer></div>

  

  

  </body></html>

