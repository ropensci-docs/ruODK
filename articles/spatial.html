<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Examples and conversation starters for spatial data.
">
<title>Spatial data • ruODK</title>
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Spatial data">
<meta property="og:description" content="Examples and conversation starters for spatial data.
">
<meta property="og:image" content="https://docs.ropensci.org/ruODK/reference/figures/ruODK2.png">
<meta property="og:image:alt" content="An R Client for the ODK Central API">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@florianm">
<meta name="twitter:site" content="@rOpenSci">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code -->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">ruODK</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">1.4.2</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/comparison.html">Comparison of related software packages</a>
    <a class="dropdown-item" href="../articles/odata-api.html">Accessing the OData API</a>
    <a class="dropdown-item" href="../articles/restful-api.html">Accessing the RESTful API</a>
    <a class="dropdown-item" href="../articles/setup.html">Setup</a>
    <a class="dropdown-item" href="../articles/spatial.html">Spatial data</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/ruODK/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="spatial_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="spatial_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="spatial_files/leaflet-1.3.1/leaflet.js"></script><link href="spatial_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="spatial_files/proj4-2.6.2/proj4.min.js"></script><script src="spatial_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="spatial_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="spatial_files/leaflet-binding-2.2.1/leaflet.js"></script><script src="spatial_files/leaflet-providers-2.0.0/leaflet-providers_2.0.0.js"></script><script src="spatial_files/leaflet-providers-plugin-2.2.1/leaflet-providers-plugin.js"></script><link href="spatial_files/HomeButton-0.0.1/home-button.css" rel="stylesheet">
<script src="spatial_files/HomeButton-0.0.1/home-button.js"></script><script src="spatial_files/HomeButton-0.0.1/easy-button-src.min.js"></script><script src="spatial_files/clipboard-0.0.1/setClipboardText.js"></script><link href="spatial_files/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet">
<link href="spatial_files/mapviewCSS-0.0.1/mapview.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Spatial data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/ruODK/blob/HEAD/vignettes/spatial.Rmd" class="external-link"><code>vignettes/spatial.Rmd</code></a></small>
      <div class="d-none name"><code>spatial.Rmd</code></div>
    </div>

    
    
<p>For forms with spatial types, such as geopoint, geotrace, or geoshape, <code>ruODK</code> gives two options to access the captured spatial data.</p>
<p>Firstly, to make spatial data as simple and accessible as possible, <code>ruODK</code> extracts the lat/lon/alt/acc from geopoints, as well as from the first coordinate of geotraces and geoshapes into separate columns. This works for both GeoJSON and WKT. The extracted columns are named as the original geofield appended with <code>_latitude</code>, <code>_longitude</code>, <code>_altitude</code>, and <code>_accuracy</code>, respectively.</p>
<p>Secondly, this vignette demonstrates how to turn the spatial data types returned from ODK Central into spatially enabled objects. To do so, we have to address two challenges.</p>
<p>The first challenge is to select which of the potentially many spatial fields which an ODK form can capture shall be used as the primary geometry of a native spatial object, such as an <code>sf</code> SimpleFeature class. If several spatial fields are captured, it is up to the user to choose which field to use as primary geometry.</p>
<p>The second challenge is that the parsed data from ODK Central is a plain table (<code>tbl_df</code>) in which some columns contain spatial data. Well Know Text (WKT) is parsed as text columns, whereas GeoJSON (nested JSON) is parsed as list columns.</p>
<p>Most spatial packages require either atomic coordinates in separate columns, which works well for points (latitude, longitude, altitude), or the data to be spatially enabled. This vignette shows how to transform a <code>tbl_df</code> with a column containing (point, line, or polygon) WKT into a spatially enabled <code>sf</code> object.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/ruODK">ruODK</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Visualisation</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rstudio.github.io/leaflet/" class="external-link">leaflet</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://lattice.r-forge.r-project.org/" class="external-link">lattice</a></span><span class="op">)</span></span>
<span><span class="co"># library(tmap) # Suggested but not included here yet</span></span>
<span></span>
<span><span class="co"># Spatial</span></span>
<span><span class="va">can_run</span> <span class="op">&lt;-</span> <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-spatial/leafem" class="external-link">leafem</a></span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-spatial/mapview" class="external-link">mapview</a></span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/" class="external-link">terra</a></span><span class="op">)</span></span>
<span><span class="co"># Fix https://github.com/r-spatial/mapview/issues/313</span></span>
<span><span class="co"># See also https://github.com/r-spatial/mapview/issues/312</span></span>
<span><span class="co"># option 'fgb' requires GDAL &gt;= 3.1.0</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-spatial/mapview" class="external-link">mapview</a></span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">mapview</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/mapview/reference/mapviewOptions.html" class="external-link">mapviewOptions</a></span><span class="op">(</span></span>
<span>    fgb <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>    basemaps <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"Esri.WorldImagery"</span>,</span>
<span>      <span class="st">"Esri.WorldShadedRelief"</span>,</span>
<span>      <span class="st">"OpenTopoMap"</span>,</span>
<span>      <span class="st">"OpenStreetMap"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    layers.control.pos <span class="op">=</span> <span class="st">"topright"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="section level3">
<h3 id="data">Data<a class="anchor" aria-label="anchor" href="#data"></a>
</h3>
<p>The original data shown in this vignette are hosted on a ODK Central server which is used for the <code>ruODK</code> package tests. The form we show here contains every spatial widget supported by ODK Build for every supported spatial field type.</p>
<p>With working credentials to the ODK Central test server we could download the data directly.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set ruODK defaults to an ODK Central form, choose tz and verbosity</span></span>
<span><span class="fu">ruODK</span><span class="fu">::</span><span class="fu"><a href="../reference/ru_setup.html">ru_setup</a></span><span class="op">(</span></span>
<span>  url <span class="op">=</span> <span class="fu"><a href="../reference/ru_settings.html">get_test_url</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  pid <span class="op">=</span> <span class="fu"><a href="../reference/ru_settings.html">get_test_pid</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  fid <span class="op">=</span> <span class="fu"><a href="../reference/ru_settings.html">get_test_fid_wkt</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  un <span class="op">=</span> <span class="fu"><a href="../reference/ru_settings.html">get_test_un</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  pw <span class="op">=</span> <span class="fu"><a href="../reference/ru_settings.html">get_test_pw</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  odkc_version <span class="op">=</span> <span class="st">"2023.5.1"</span>,</span>
<span>  tz <span class="op">=</span> <span class="st">"Australia/Perth"</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="va">data_wkt</span> <span class="op">&lt;-</span> <span class="fu">ruODK</span><span class="fu">::</span><span class="fu"><a href="../reference/odata_submission_get.html">odata_submission_get</a></span><span class="op">(</span>wkt <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">data_gj</span> <span class="op">&lt;-</span> <span class="fu">ruODK</span><span class="fu">::</span><span class="fu"><a href="../reference/odata_submission_get.html">odata_submission_get</a></span><span class="op">(</span>wkt <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>To allow users to build this vignette without credentials to the ODK Central test server, <code>ruODK</code> provides above form data also as package data.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"geo_wkt"</span>, package <span class="op">=</span> <span class="st">"ruODK"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"geo_gj"</span>, package <span class="op">=</span> <span class="st">"ruODK"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="map-geopoints">Map geopoints<a class="anchor" aria-label="anchor" href="#map-geopoints"></a>
</h3>
<p>We can turn data with a text column containing WKT into an <code>sf</code> (SimpleFeatures) object.</p>
<p>In addition, we can leave the <code>tbl_df</code> as non-spatial object, and instead use the separately extracted latitude, longitude, altitude, and accuracy individually e.g. to plot a Leaflet map.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">geo_sf_point</span> <span class="op">&lt;-</span> <span class="va">geo_wkt</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span>wkt <span class="op">=</span> <span class="st">"point_location_point_gps"</span><span class="op">)</span></span>
<span><span class="co"># ODK Collect captures WGS84 (EPSG:4326)</span></span>
<span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">st_crs</a></span><span class="op">(</span><span class="va">geo_sf_point</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">4326</span></span></code></pre></div>
<div class="section level4">
<h4 id="mapview-using-sf">Mapview using sf<a class="anchor" aria-label="anchor" href="#mapview-using-sf"></a>
</h4>
<p>See also further information under heading “Outlook”.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">mapview</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/mapview/reference/mapView.html" class="external-link">mapview</a></span><span class="op">(</span><span class="va">geo_sf_point</span>, col.regions <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html" class="external-link">sf.colors</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-b4ee628de747f5712aab" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-b4ee628de747f5712aab">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["Esri.WorldImagery","Esri.WorldImagery","Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldShadedRelief","Esri.WorldShadedRelief","Esri.WorldShadedRelief",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenTopoMap","OpenTopoMap","OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap","OpenStreetMap","OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"createMapPane","args":["point",440]},{"method":"addCircleMarkers","args":[-31.8950326,115.7745212,6,null,"geo_sf_point",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"point","stroke":true,"color":"#333333","weight":1,"opacity":0.9,"fill":true,"fillColor":"#0000B3","fillOpacity":0.6},null,null,"<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>meta_instance_id&emsp;<\/th><td>uuid:2d3dbc0c-70f5-4c99-a812-a8296511c45b&emsp;<\/td><\/tr><tr><td>2<\/td><th>device_id&emsp;<\/th><td>collect:OHnydk6INUIfDHNl&emsp;<\/td><\/tr><tr><td>3<\/td><th>start_time&emsp;<\/th><td>2023-12-04 16:35:36&emsp;<\/td><\/tr><tr><td>4<\/td><th>username&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td>5<\/td><th>subscriber_id&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td>6<\/td><th>point_location_point_gps&emsp;<\/th><td>sfc_POINT&emsp;<\/td><\/tr><tr><td>7<\/td><th>point_location_point_gps_longitude&emsp;<\/th><td>115.7745&emsp;<\/td><\/tr><tr><td>8<\/td><th>point_location_point_gps_latitude&emsp;<\/th><td>-31.89503&emsp;<\/td><\/tr><tr><td>9<\/td><th>point_location_point_gps_altitude&emsp;<\/th><td>6.6&emsp;<\/td><\/tr><tr><td>10<\/td><th>point_location_point_map&emsp;<\/th><td>POINT (115.7745049 -31.89503 6.599999904632568)&emsp;<\/td><\/tr><tr><td>11<\/td><th>point_location_point_map_longitude&emsp;<\/th><td>115.7745&emsp;<\/td><\/tr><tr><td>12<\/td><th>point_location_point_map_latitude&emsp;<\/th><td>-31.89503&emsp;<\/td><\/tr><tr><td>13<\/td><th>point_location_point_map_altitude&emsp;<\/th><td>6.6&emsp;<\/td><\/tr><tr><td>14<\/td><th>point_location_point_manual&emsp;<\/th><td>POINT (115.77449776232241 -31.89670349357773 0)&emsp;<\/td><\/tr><tr><td>15<\/td><th>point_location_point_manual_longitude&emsp;<\/th><td>115.7745&emsp;<\/td><\/tr><tr><td>16<\/td><th>point_location_point_manual_latitude&emsp;<\/th><td>-31.8967&emsp;<\/td><\/tr><tr><td>17<\/td><th>point_location_point_manual_altitude&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>18<\/td><th>path_location_path_gps&emsp;<\/th><td>LINESTRING (115.77564273029566 -31.89555264589932 0,115.77515624463557 -31.896791450426612 0,115.77428352087736 -31.89678547277935 0,115.7731033489108 -31.895977632878623 0)&emsp;<\/td><\/tr><tr><td>19<\/td><th>path_location_path_gps_longitude&emsp;<\/th><td>115.7756&emsp;<\/td><\/tr><tr><td>20<\/td><th>path_location_path_gps_latitude&emsp;<\/th><td>-31.89555&emsp;<\/td><\/tr><tr><td>21<\/td><th>path_location_path_gps_altitude&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>22<\/td><th>path_location_path_map&emsp;<\/th><td>LINESTRING (115.77329177409409 -31.893401777488513 0,115.77503722161053 -31.892484881965828 0,115.77647488564253 -31.893401777488513 0,115.77553778886795 -31.894883707295957 0)&emsp;<\/td><\/tr><tr><td>23<\/td><th>path_location_path_map_longitude&emsp;<\/th><td>115.7733&emsp;<\/td><\/tr><tr><td>24<\/td><th>path_location_path_map_latitude&emsp;<\/th><td>-31.8934&emsp;<\/td><\/tr><tr><td>25<\/td><th>path_location_path_map_altitude&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>26<\/td><th>path_location_path_manual&emsp;<\/th><td>LINESTRING (115.77255014330147 -31.895969947264145 0,115.77201370149851 -31.893844423254272 0,115.77453162521122 -31.893941491912614 0,115.77607657760382 -31.893923273755803 0)&emsp;<\/td><\/tr><tr><td>27<\/td><th>path_location_path_manual_longitude&emsp;<\/th><td>115.7726&emsp;<\/td><\/tr><tr><td>28<\/td><th>path_location_path_manual_latitude&emsp;<\/th><td>-31.89597&emsp;<\/td><\/tr><tr><td>29<\/td><th>path_location_path_manual_altitude&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>30<\/td><th>shape_location_shape_gps&emsp;<\/th><td>POLYGON ((115.76582819223404 -31.871377820422097 0,115.77121909707785 -31.870342542105856 0,115.77070444822311 -31.86684568687149 0,115.76683603227139 -31.86684910378038 0,115.76520826667547 -31.869622737786433 0,115.76582819223404 -31.871377820422097 0))&emsp;<\/td><\/tr><tr><td>31<\/td><th>shape_location_shape_gps_longitude&emsp;<\/th><td>115.7658&emsp;<\/td><\/tr><tr><td>32<\/td><th>shape_location_shape_gps_latitude&emsp;<\/th><td>-31.87138&emsp;<\/td><\/tr><tr><td>33<\/td><th>shape_location_shape_gps_altitude&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>34<\/td><th>shape_location_shape_map&emsp;<\/th><td>POLYGON ((115.7744988 -31.8950438 6.599999904632568,115.7745004 -31.8950375 6.599999904632568,115.7745036 -31.8950359 6.599999904632568,115.7744988 -31.8950438 6.599999904632568))&emsp;<\/td><\/tr><tr><td>35<\/td><th>shape_location_shape_map_longitude&emsp;<\/th><td>115.7745&emsp;<\/td><\/tr><tr><td>36<\/td><th>shape_location_shape_map_latitude&emsp;<\/th><td>-31.89504&emsp;<\/td><\/tr><tr><td>37<\/td><th>shape_location_shape_map_altitude&emsp;<\/th><td>6.6&emsp;<\/td><\/tr><tr><td>38<\/td><th>shape_location_shape_manual&emsp;<\/th><td>POLYGON ((115.79702932387592 -31.920326991711086 0,115.80060135573149 -31.909768861283506 0,115.80766897648572 -31.9110160126568 0,115.81248220056294 -31.916585580943053 0,115.81496492028236 -31.92428309698636 0,115.80977149307728 -31.929099230516183 0,115.80460388213397 -31.9292281315398 0,115.79974003136158 -31.928583055511513 0,115.79702932387592 -31.920326991711086 0))&emsp;<\/td><\/tr><tr><td>39<\/td><th>shape_location_shape_manual_longitude&emsp;<\/th><td>115.797&emsp;<\/td><\/tr><tr><td>40<\/td><th>shape_location_shape_manual_latitude&emsp;<\/th><td>-31.92033&emsp;<\/td><\/tr><tr><td>41<\/td><th>shape_location_shape_manual_altitude&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>42<\/td><th>end_time&emsp;<\/th><td>2023-12-04 16:38:49&emsp;<\/td><\/tr><tr><td>43<\/td><th>id&emsp;<\/th><td>uuid:2d3dbc0c-70f5-4c99-a812-a8296511c45b&emsp;<\/td><\/tr><tr><td>44<\/td><th>system_submission_date&emsp;<\/th><td>2023-12-04T08:38:52.712Z&emsp;<\/td><\/tr><tr><td>45<\/td><th>system_updated_at&emsp;<\/th><td>2024-03-05T05:28:51.126Z&emsp;<\/td><\/tr><tr><td>46<\/td><th>system_submitter_id&emsp;<\/th><td>12&emsp;<\/td><\/tr><tr><td>47<\/td><th>system_submitter_name&emsp;<\/th><td>ruodk&emsp;<\/td><\/tr><tr><td>48<\/td><th>system_attachments_present&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>49<\/td><th>system_attachments_expected&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>50<\/td><th>system_status&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td>51<\/td><th>system_review_state&emsp;<\/th><td>approved&emsp;<\/td><\/tr><tr><td>52<\/td><th>system_device_id&emsp;<\/th><td>collect:OHnydk6INUIfDHNl&emsp;<\/td><\/tr><tr><td>53<\/td><th>system_edits&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>54<\/td><th>system_form_version&emsp;<\/th><td>&emsp;<\/td><\/tr><tr><td>55<\/td><th>odata_context&emsp;<\/th><td>https://ruodk.getodk.cloud/v1/projects/1/forms/Locations.svc/$metadata#Submissions&emsp;<\/td><\/tr><\/table><\/div>",{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"1",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[115.7745212,-31.8950326,115.7745212,-31.8950326,true,"geo_sf_point","Zoom to geo_sf_point","<strong> geo_sf_point <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["Esri.WorldImagery","Esri.WorldShadedRelief","OpenTopoMap","OpenStreetMap"],"geo_sf_point",{"collapsed":true,"autoZIndex":true,"position":"topright"}]},{"method":"addLegend","args":[{"colors":["#0000B3"],"labels":["geo_sf_point"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"","extra":null,"layerId":null,"className":"info legend","group":"geo_sf_point"}]}],"limits":{"lat":[-31.8950326,-31.8950326],"lng":[115.7745212,115.7745212]},"setView":[[-31.8950326,115.7745212],18,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
<div class="section level4">
<h4 id="ggplot-using-sf">GGplot using sf<a class="anchor" aria-label="anchor" href="#ggplot-using-sf"></a>
</h4>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">geo_sf_point</span>, <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">device_id</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="spatial_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
</div>
<div class="section level4">
<h4 id="leaflet-using-sf">Leaflet using sf<a class="anchor" aria-label="anchor" href="#leaflet-using-sf"></a>
</h4>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">leaflet</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/leaflet/reference/leaflet.html" class="external-link">leaflet</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">geo_sf_point</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">leaflet</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html" class="external-link">addTiles</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">leaflet</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html" class="external-link">addMarkers</a></span><span class="op">(</span>label <span class="op">=</span> <span class="op">~</span><span class="va">device_id</span>, popup <span class="op">=</span> <span class="op">~</span><span class="va">device_id</span><span class="op">)</span></span></code></pre></div>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-0b90b737578eff9d37c3" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-0b90b737578eff9d37c3">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addMarkers","args":[-31.8950326,115.7745212,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},"collect:OHnydk6INUIfDHNl",null,null,null,"collect:OHnydk6INUIfDHNl",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-31.8950326,-31.8950326],"lng":[115.7745212,115.7745212]}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="section level4">
<h4 id="leaflet-using-extracted-coordinate-components-in-tbl_df">Leaflet using extracted coordinate components in tbl_df<a class="anchor" aria-label="anchor" href="#leaflet-using-extracted-coordinate-components-in-tbl_df"></a>
</h4>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">leaflet</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/leaflet/reference/leaflet.html" class="external-link">leaflet</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">geo_wkt</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">leaflet</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html" class="external-link">addTiles</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">leaflet</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html" class="external-link">addMarkers</a></span><span class="op">(</span></span>
<span>    lng <span class="op">=</span> <span class="op">~</span><span class="va">point_location_point_gps_longitude</span>,</span>
<span>    lat <span class="op">=</span> <span class="op">~</span><span class="va">point_location_point_gps_latitude</span>,</span>
<span>    label <span class="op">=</span> <span class="op">~</span><span class="va">device_id</span>,</span>
<span>    popup <span class="op">=</span> <span class="op">~</span><span class="va">device_id</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-3f3150c5c662286b3d8b" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-3f3150c5c662286b3d8b">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addMarkers","args":[-31.8950326,115.7745212,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},"collect:OHnydk6INUIfDHNl",null,null,null,"collect:OHnydk6INUIfDHNl",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-31.8950326,-31.8950326],"lng":[115.7745212,115.7745212]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="section level3">
<h3 id="map-geotraces-lines">Map geotraces (lines)<a class="anchor" aria-label="anchor" href="#map-geotraces-lines"></a>
</h3>
<p>We use <code><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">sf::st_as_sf</a></code> on a text column containing a WKT geotrace.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">geo_sf_line</span> <span class="op">&lt;-</span> <span class="va">geo_wkt</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span>wkt <span class="op">=</span> <span class="st">"path_location_path_gps"</span><span class="op">)</span></span>
<span><span class="co"># ODK Collect captures WGS84 (EPSG:4326)</span></span>
<span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">st_crs</a></span><span class="op">(</span><span class="va">geo_sf_line</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">4326</span></span></code></pre></div>
<div class="section level4">
<h4 id="mapview-using-sf-1">Mapview using sf<a class="anchor" aria-label="anchor" href="#mapview-using-sf-1"></a>
</h4>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">mapview</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/mapview/reference/mapView.html" class="external-link">mapview</a></span><span class="op">(</span><span class="va">geo_sf_line</span>, col.regions <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html" class="external-link">sf.colors</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-b45e1da58ee929631edf" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-b45e1da58ee929631edf">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["Esri.WorldImagery","Esri.WorldImagery","Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldShadedRelief","Esri.WorldShadedRelief","Esri.WorldShadedRelief",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenTopoMap","OpenTopoMap","OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap","OpenStreetMap","OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"createMapPane","args":["line",430]},{"method":"addPolylines","args":[[[[{"lng":[115.7756427302957,115.7751562446356,115.7742835208774,115.7731033489108],"lat":[-31.89555264589932,-31.89679145042661,-31.89678547277935,-31.89597763287862]}]]],null,"geo_sf_line",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"line","stroke":true,"color":"#6666FF","weight":2,"opacity":0.9,"fill":false,"fillColor":"#0000B3","fillOpacity":1,"smoothFactor":1,"noClip":false},"<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>meta_instance_id&emsp;<\/th><td>uuid:2d3dbc0c-70f5-4c99-a812-a8296511c45b&emsp;<\/td><\/tr><tr><td>2<\/td><th>device_id&emsp;<\/th><td>collect:OHnydk6INUIfDHNl&emsp;<\/td><\/tr><tr><td>3<\/td><th>start_time&emsp;<\/th><td>2023-12-04 16:35:36&emsp;<\/td><\/tr><tr><td>4<\/td><th>username&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td>5<\/td><th>subscriber_id&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td>6<\/td><th>point_location_point_gps&emsp;<\/th><td>POINT (115.7745212 -31.8950326 6.599999904632568)&emsp;<\/td><\/tr><tr><td>7<\/td><th>point_location_point_gps_longitude&emsp;<\/th><td>115.7745&emsp;<\/td><\/tr><tr><td>8<\/td><th>point_location_point_gps_latitude&emsp;<\/th><td>-31.89503&emsp;<\/td><\/tr><tr><td>9<\/td><th>point_location_point_gps_altitude&emsp;<\/th><td>6.6&emsp;<\/td><\/tr><tr><td>10<\/td><th>point_location_point_map&emsp;<\/th><td>POINT (115.7745049 -31.89503 6.599999904632568)&emsp;<\/td><\/tr><tr><td>11<\/td><th>point_location_point_map_longitude&emsp;<\/th><td>115.7745&emsp;<\/td><\/tr><tr><td>12<\/td><th>point_location_point_map_latitude&emsp;<\/th><td>-31.89503&emsp;<\/td><\/tr><tr><td>13<\/td><th>point_location_point_map_altitude&emsp;<\/th><td>6.6&emsp;<\/td><\/tr><tr><td>14<\/td><th>point_location_point_manual&emsp;<\/th><td>POINT (115.77449776232241 -31.89670349357773 0)&emsp;<\/td><\/tr><tr><td>15<\/td><th>point_location_point_manual_longitude&emsp;<\/th><td>115.7745&emsp;<\/td><\/tr><tr><td>16<\/td><th>point_location_point_manual_latitude&emsp;<\/th><td>-31.8967&emsp;<\/td><\/tr><tr><td>17<\/td><th>point_location_point_manual_altitude&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>18<\/td><th>path_location_path_gps&emsp;<\/th><td>sfc_LINESTRING&emsp;<\/td><\/tr><tr><td>19<\/td><th>path_location_path_gps_longitude&emsp;<\/th><td>115.7756&emsp;<\/td><\/tr><tr><td>20<\/td><th>path_location_path_gps_latitude&emsp;<\/th><td>-31.89555&emsp;<\/td><\/tr><tr><td>21<\/td><th>path_location_path_gps_altitude&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>22<\/td><th>path_location_path_map&emsp;<\/th><td>LINESTRING (115.77329177409409 -31.893401777488513 0,115.77503722161053 -31.892484881965828 0,115.77647488564253 -31.893401777488513 0,115.77553778886795 -31.894883707295957 0)&emsp;<\/td><\/tr><tr><td>23<\/td><th>path_location_path_map_longitude&emsp;<\/th><td>115.7733&emsp;<\/td><\/tr><tr><td>24<\/td><th>path_location_path_map_latitude&emsp;<\/th><td>-31.8934&emsp;<\/td><\/tr><tr><td>25<\/td><th>path_location_path_map_altitude&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>26<\/td><th>path_location_path_manual&emsp;<\/th><td>LINESTRING (115.77255014330147 -31.895969947264145 0,115.77201370149851 -31.893844423254272 0,115.77453162521122 -31.893941491912614 0,115.77607657760382 -31.893923273755803 0)&emsp;<\/td><\/tr><tr><td>27<\/td><th>path_location_path_manual_longitude&emsp;<\/th><td>115.7726&emsp;<\/td><\/tr><tr><td>28<\/td><th>path_location_path_manual_latitude&emsp;<\/th><td>-31.89597&emsp;<\/td><\/tr><tr><td>29<\/td><th>path_location_path_manual_altitude&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>30<\/td><th>shape_location_shape_gps&emsp;<\/th><td>POLYGON ((115.76582819223404 -31.871377820422097 0,115.77121909707785 -31.870342542105856 0,115.77070444822311 -31.86684568687149 0,115.76683603227139 -31.86684910378038 0,115.76520826667547 -31.869622737786433 0,115.76582819223404 -31.871377820422097 0))&emsp;<\/td><\/tr><tr><td>31<\/td><th>shape_location_shape_gps_longitude&emsp;<\/th><td>115.7658&emsp;<\/td><\/tr><tr><td>32<\/td><th>shape_location_shape_gps_latitude&emsp;<\/th><td>-31.87138&emsp;<\/td><\/tr><tr><td>33<\/td><th>shape_location_shape_gps_altitude&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>34<\/td><th>shape_location_shape_map&emsp;<\/th><td>POLYGON ((115.7744988 -31.8950438 6.599999904632568,115.7745004 -31.8950375 6.599999904632568,115.7745036 -31.8950359 6.599999904632568,115.7744988 -31.8950438 6.599999904632568))&emsp;<\/td><\/tr><tr><td>35<\/td><th>shape_location_shape_map_longitude&emsp;<\/th><td>115.7745&emsp;<\/td><\/tr><tr><td>36<\/td><th>shape_location_shape_map_latitude&emsp;<\/th><td>-31.89504&emsp;<\/td><\/tr><tr><td>37<\/td><th>shape_location_shape_map_altitude&emsp;<\/th><td>6.6&emsp;<\/td><\/tr><tr><td>38<\/td><th>shape_location_shape_manual&emsp;<\/th><td>POLYGON ((115.79702932387592 -31.920326991711086 0,115.80060135573149 -31.909768861283506 0,115.80766897648572 -31.9110160126568 0,115.81248220056294 -31.916585580943053 0,115.81496492028236 -31.92428309698636 0,115.80977149307728 -31.929099230516183 0,115.80460388213397 -31.9292281315398 0,115.79974003136158 -31.928583055511513 0,115.79702932387592 -31.920326991711086 0))&emsp;<\/td><\/tr><tr><td>39<\/td><th>shape_location_shape_manual_longitude&emsp;<\/th><td>115.797&emsp;<\/td><\/tr><tr><td>40<\/td><th>shape_location_shape_manual_latitude&emsp;<\/th><td>-31.92033&emsp;<\/td><\/tr><tr><td>41<\/td><th>shape_location_shape_manual_altitude&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>42<\/td><th>end_time&emsp;<\/th><td>2023-12-04 16:38:49&emsp;<\/td><\/tr><tr><td>43<\/td><th>id&emsp;<\/th><td>uuid:2d3dbc0c-70f5-4c99-a812-a8296511c45b&emsp;<\/td><\/tr><tr><td>44<\/td><th>system_submission_date&emsp;<\/th><td>2023-12-04T08:38:52.712Z&emsp;<\/td><\/tr><tr><td>45<\/td><th>system_updated_at&emsp;<\/th><td>2024-03-05T05:28:51.126Z&emsp;<\/td><\/tr><tr><td>46<\/td><th>system_submitter_id&emsp;<\/th><td>12&emsp;<\/td><\/tr><tr><td>47<\/td><th>system_submitter_name&emsp;<\/th><td>ruodk&emsp;<\/td><\/tr><tr><td>48<\/td><th>system_attachments_present&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>49<\/td><th>system_attachments_expected&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>50<\/td><th>system_status&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td>51<\/td><th>system_review_state&emsp;<\/th><td>approved&emsp;<\/td><\/tr><tr><td>52<\/td><th>system_device_id&emsp;<\/th><td>collect:OHnydk6INUIfDHNl&emsp;<\/td><\/tr><tr><td>53<\/td><th>system_edits&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>54<\/td><th>system_form_version&emsp;<\/th><td>&emsp;<\/td><\/tr><tr><td>55<\/td><th>odata_context&emsp;<\/th><td>https://ruodk.getodk.cloud/v1/projects/1/forms/Locations.svc/$metadata#Submissions&emsp;<\/td><\/tr><\/table><\/div>",{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"1",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":3,"opacity":1,"fill":false,"fillOpacity":0,"bringToFront":false,"sendToBack":false}]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[115.7731033489108,-31.89679145042661,115.7756427302957,-31.89555264589932,true,"geo_sf_line","Zoom to geo_sf_line","<strong> geo_sf_line <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["Esri.WorldImagery","Esri.WorldShadedRelief","OpenTopoMap","OpenStreetMap"],"geo_sf_line",{"collapsed":true,"autoZIndex":true,"position":"topright"}]},{"method":"addLegend","args":[{"colors":["#6666FF"],"labels":["geo_sf_line"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"","extra":null,"layerId":null,"className":"info legend","group":"geo_sf_line"}]}],"limits":{"lat":[-31.89679145042661,-31.89555264589932],"lng":[115.7731033489108,115.7756427302957]},"fitBounds":[-31.89679145042661,115.7731033489108,-31.89555264589932,115.7756427302957,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
<div class="section level4">
<h4 id="ggplot-using-sf-1">GGplot using sf<a class="anchor" aria-label="anchor" href="#ggplot-using-sf-1"></a>
</h4>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">geo_sf_line</span>, <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">device_id</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="spatial_files/figure-html/unnamed-chunk-10-1.png" width="700"></p>
</div>
<div class="section level4">
<h4 id="leaflet-using-sf-and-extracted-coordinates">Leaflet using sf and extracted coordinates<a class="anchor" aria-label="anchor" href="#leaflet-using-sf-and-extracted-coordinates"></a>
</h4>
<p>You can show either first extracted coordinate components from plain <code>tbl_df</code> or show the full polygons using <a href="https://github.com/r-spatial/leafem" class="external-link">leafem</a>. See the mapview article on <a href="https://r-spatial.github.io/mapview/articles/articles/mapview_06-add.html" class="external-link">extra functionality</a>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">leaflet</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/leaflet/reference/leaflet.html" class="external-link">leaflet</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">geo_wkt</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">leaflet</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html" class="external-link">addTiles</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">leaflet</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html" class="external-link">addMarkers</a></span><span class="op">(</span></span>
<span>    lng <span class="op">=</span> <span class="op">~</span><span class="va">path_location_path_gps_longitude</span>,</span>
<span>    lat <span class="op">=</span> <span class="op">~</span><span class="va">path_location_path_gps_latitude</span>,</span>
<span>    label <span class="op">=</span> <span class="op">~</span><span class="va">device_id</span>,</span>
<span>    popup <span class="op">=</span> <span class="op">~</span><span class="va">device_id</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">leafem</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/leafem/reference/addFeatures.html" class="external-link">addFeatures</a></span><span class="op">(</span><span class="va">geo_sf_line</span>, label <span class="op">=</span> <span class="op">~</span><span class="va">device_id</span>, popup <span class="op">=</span> <span class="op">~</span><span class="va">device_id</span><span class="op">)</span></span></code></pre></div>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-c88a01ccc122697a0c72" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-c88a01ccc122697a0c72">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addMarkers","args":[-31.89555264589932,115.7756427302957,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},"collect:OHnydk6INUIfDHNl",null,null,null,"collect:OHnydk6INUIfDHNl",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addPolylines","args":[[[[{"lng":[115.7756427302957,115.7751562446356,115.7742835208774,115.7731033489108],"lat":[-31.89555264589932,-31.89679145042661,-31.89678547277935,-31.89597763287862]}]]],null,null,{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"overlayPane","stroke":true,"color":"#03F","weight":5,"opacity":0.5,"fill":false,"fillColor":"#03F","fillOpacity":0.2,"smoothFactor":1,"noClip":false},"collect:OHnydk6INUIfDHNl",{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"collect:OHnydk6INUIfDHNl",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-31.89679145042661,-31.89555264589932],"lng":[115.7731033489108,115.7756427302957]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="section level3">
<h3 id="map-geoshapes-polygons">Map geoshapes (polygons)<a class="anchor" aria-label="anchor" href="#map-geoshapes-polygons"></a>
</h3>
<p>Again, we’ll use <code><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">sf::st_as_sf</a></code> but select a WKT geoshape column.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">geo_sf_poly</span> <span class="op">&lt;-</span> <span class="va">geo_wkt</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span>wkt <span class="op">=</span> <span class="st">"shape_location_shape_gps"</span><span class="op">)</span></span>
<span><span class="co"># ODK Collect captures WGS84 (EPSG:4326)</span></span>
<span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_crs.html" class="external-link">st_crs</a></span><span class="op">(</span><span class="va">geo_sf_poly</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">4326</span></span></code></pre></div>
<div class="section level4">
<h4 id="mapview-using-sf-2">Mapview using sf<a class="anchor" aria-label="anchor" href="#mapview-using-sf-2"></a>
</h4>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">mapview</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/mapview/reference/mapView.html" class="external-link">mapview</a></span><span class="op">(</span><span class="va">geo_sf_poly</span>, col.regions <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/plot.html" class="external-link">sf.colors</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-90c1558b1a3639dfdb55" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-90c1558b1a3639dfdb55">{"x":{"options":{"minZoom":1,"maxZoom":52,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["Esri.WorldImagery","Esri.WorldImagery","Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldShadedRelief","Esri.WorldShadedRelief","Esri.WorldShadedRelief",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenTopoMap","OpenTopoMap","OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap","OpenStreetMap","OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false,"pane":"tilePane"}]},{"method":"createMapPane","args":["polygon",420]},{"method":"addPolygons","args":[[[[{"lng":[115.765828192234,115.7712190970778,115.7707044482231,115.7668360322714,115.7652082666755,115.765828192234],"lat":[-31.8713778204221,-31.87034254210586,-31.86684568687149,-31.86684910378038,-31.86962273778643,-31.8713778204221]}]]],null,"geo_sf_poly",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"polygon","stroke":true,"color":"#333333","weight":0.5,"opacity":0.9,"fill":true,"fillColor":"#0000B3","fillOpacity":0.6,"smoothFactor":1,"noClip":false},"<div class='scrollableContainer'><table class=mapview-popup id='popup'><tr class='coord'><td><\/td><th><b>Feature ID&emsp;<\/b><\/th><td>1&emsp;<\/td><\/tr><tr><td>1<\/td><th>meta_instance_id&emsp;<\/th><td>uuid:2d3dbc0c-70f5-4c99-a812-a8296511c45b&emsp;<\/td><\/tr><tr><td>2<\/td><th>device_id&emsp;<\/th><td>collect:OHnydk6INUIfDHNl&emsp;<\/td><\/tr><tr><td>3<\/td><th>start_time&emsp;<\/th><td>2023-12-04 16:35:36&emsp;<\/td><\/tr><tr><td>4<\/td><th>username&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td>5<\/td><th>subscriber_id&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td>6<\/td><th>point_location_point_gps&emsp;<\/th><td>POINT (115.7745212 -31.8950326 6.599999904632568)&emsp;<\/td><\/tr><tr><td>7<\/td><th>point_location_point_gps_longitude&emsp;<\/th><td>115.7745&emsp;<\/td><\/tr><tr><td>8<\/td><th>point_location_point_gps_latitude&emsp;<\/th><td>-31.89503&emsp;<\/td><\/tr><tr><td>9<\/td><th>point_location_point_gps_altitude&emsp;<\/th><td>6.6&emsp;<\/td><\/tr><tr><td>10<\/td><th>point_location_point_map&emsp;<\/th><td>POINT (115.7745049 -31.89503 6.599999904632568)&emsp;<\/td><\/tr><tr><td>11<\/td><th>point_location_point_map_longitude&emsp;<\/th><td>115.7745&emsp;<\/td><\/tr><tr><td>12<\/td><th>point_location_point_map_latitude&emsp;<\/th><td>-31.89503&emsp;<\/td><\/tr><tr><td>13<\/td><th>point_location_point_map_altitude&emsp;<\/th><td>6.6&emsp;<\/td><\/tr><tr><td>14<\/td><th>point_location_point_manual&emsp;<\/th><td>POINT (115.77449776232241 -31.89670349357773 0)&emsp;<\/td><\/tr><tr><td>15<\/td><th>point_location_point_manual_longitude&emsp;<\/th><td>115.7745&emsp;<\/td><\/tr><tr><td>16<\/td><th>point_location_point_manual_latitude&emsp;<\/th><td>-31.8967&emsp;<\/td><\/tr><tr><td>17<\/td><th>point_location_point_manual_altitude&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>18<\/td><th>path_location_path_gps&emsp;<\/th><td>LINESTRING (115.77564273029566 -31.89555264589932 0,115.77515624463557 -31.896791450426612 0,115.77428352087736 -31.89678547277935 0,115.7731033489108 -31.895977632878623 0)&emsp;<\/td><\/tr><tr><td>19<\/td><th>path_location_path_gps_longitude&emsp;<\/th><td>115.7756&emsp;<\/td><\/tr><tr><td>20<\/td><th>path_location_path_gps_latitude&emsp;<\/th><td>-31.89555&emsp;<\/td><\/tr><tr><td>21<\/td><th>path_location_path_gps_altitude&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>22<\/td><th>path_location_path_map&emsp;<\/th><td>LINESTRING (115.77329177409409 -31.893401777488513 0,115.77503722161053 -31.892484881965828 0,115.77647488564253 -31.893401777488513 0,115.77553778886795 -31.894883707295957 0)&emsp;<\/td><\/tr><tr><td>23<\/td><th>path_location_path_map_longitude&emsp;<\/th><td>115.7733&emsp;<\/td><\/tr><tr><td>24<\/td><th>path_location_path_map_latitude&emsp;<\/th><td>-31.8934&emsp;<\/td><\/tr><tr><td>25<\/td><th>path_location_path_map_altitude&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>26<\/td><th>path_location_path_manual&emsp;<\/th><td>LINESTRING (115.77255014330147 -31.895969947264145 0,115.77201370149851 -31.893844423254272 0,115.77453162521122 -31.893941491912614 0,115.77607657760382 -31.893923273755803 0)&emsp;<\/td><\/tr><tr><td>27<\/td><th>path_location_path_manual_longitude&emsp;<\/th><td>115.7726&emsp;<\/td><\/tr><tr><td>28<\/td><th>path_location_path_manual_latitude&emsp;<\/th><td>-31.89597&emsp;<\/td><\/tr><tr><td>29<\/td><th>path_location_path_manual_altitude&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>30<\/td><th>shape_location_shape_gps&emsp;<\/th><td>sfc_POLYGON&emsp;<\/td><\/tr><tr><td>31<\/td><th>shape_location_shape_gps_longitude&emsp;<\/th><td>115.7658&emsp;<\/td><\/tr><tr><td>32<\/td><th>shape_location_shape_gps_latitude&emsp;<\/th><td>-31.87138&emsp;<\/td><\/tr><tr><td>33<\/td><th>shape_location_shape_gps_altitude&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>34<\/td><th>shape_location_shape_map&emsp;<\/th><td>POLYGON ((115.7744988 -31.8950438 6.599999904632568,115.7745004 -31.8950375 6.599999904632568,115.7745036 -31.8950359 6.599999904632568,115.7744988 -31.8950438 6.599999904632568))&emsp;<\/td><\/tr><tr><td>35<\/td><th>shape_location_shape_map_longitude&emsp;<\/th><td>115.7745&emsp;<\/td><\/tr><tr><td>36<\/td><th>shape_location_shape_map_latitude&emsp;<\/th><td>-31.89504&emsp;<\/td><\/tr><tr><td>37<\/td><th>shape_location_shape_map_altitude&emsp;<\/th><td>6.6&emsp;<\/td><\/tr><tr><td>38<\/td><th>shape_location_shape_manual&emsp;<\/th><td>POLYGON ((115.79702932387592 -31.920326991711086 0,115.80060135573149 -31.909768861283506 0,115.80766897648572 -31.9110160126568 0,115.81248220056294 -31.916585580943053 0,115.81496492028236 -31.92428309698636 0,115.80977149307728 -31.929099230516183 0,115.80460388213397 -31.9292281315398 0,115.79974003136158 -31.928583055511513 0,115.79702932387592 -31.920326991711086 0))&emsp;<\/td><\/tr><tr><td>39<\/td><th>shape_location_shape_manual_longitude&emsp;<\/th><td>115.797&emsp;<\/td><\/tr><tr><td>40<\/td><th>shape_location_shape_manual_latitude&emsp;<\/th><td>-31.92033&emsp;<\/td><\/tr><tr><td>41<\/td><th>shape_location_shape_manual_altitude&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>42<\/td><th>end_time&emsp;<\/th><td>2023-12-04 16:38:49&emsp;<\/td><\/tr><tr><td>43<\/td><th>id&emsp;<\/th><td>uuid:2d3dbc0c-70f5-4c99-a812-a8296511c45b&emsp;<\/td><\/tr><tr><td>44<\/td><th>system_submission_date&emsp;<\/th><td>2023-12-04T08:38:52.712Z&emsp;<\/td><\/tr><tr><td>45<\/td><th>system_updated_at&emsp;<\/th><td>2024-03-05T05:28:51.126Z&emsp;<\/td><\/tr><tr><td>46<\/td><th>system_submitter_id&emsp;<\/th><td>12&emsp;<\/td><\/tr><tr><td>47<\/td><th>system_submitter_name&emsp;<\/th><td>ruodk&emsp;<\/td><\/tr><tr><td>48<\/td><th>system_attachments_present&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>49<\/td><th>system_attachments_expected&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>50<\/td><th>system_status&emsp;<\/th><td>NA&emsp;<\/td><\/tr><tr><td>51<\/td><th>system_review_state&emsp;<\/th><td>approved&emsp;<\/td><\/tr><tr><td>52<\/td><th>system_device_id&emsp;<\/th><td>collect:OHnydk6INUIfDHNl&emsp;<\/td><\/tr><tr><td>53<\/td><th>system_edits&emsp;<\/th><td>0&emsp;<\/td><\/tr><tr><td>54<\/td><th>system_form_version&emsp;<\/th><td>&emsp;<\/td><\/tr><tr><td>55<\/td><th>odata_context&emsp;<\/th><td>https://ruodk.getodk.cloud/v1/projects/1/forms/Locations.svc/$metadata#Submissions&emsp;<\/td><\/tr><\/table><\/div>",{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"1",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":1,"opacity":0.9,"fillOpacity":0.84,"bringToFront":false,"sendToBack":false}]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[115.7652082666755,-31.8713778204221,115.7712190970778,-31.86684568687149,true,"geo_sf_poly","Zoom to geo_sf_poly","<strong> geo_sf_poly <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["Esri.WorldImagery","Esri.WorldShadedRelief","OpenTopoMap","OpenStreetMap"],"geo_sf_poly",{"collapsed":true,"autoZIndex":true,"position":"topright"}]},{"method":"addLegend","args":[{"colors":["#0000B3"],"labels":["geo_sf_poly"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"","extra":null,"layerId":null,"className":"info legend","group":"geo_sf_poly"}]}],"limits":{"lat":[-31.8713778204221,-31.86684568687149],"lng":[115.7652082666755,115.7712190970778]},"fitBounds":[-31.8713778204221,115.7652082666755,-31.86684568687149,115.7712190970778,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      if( strip !==null) strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null},{"code":"function(el, x, data) {\n  return (function(el,x,data){\n           var map = this;\n\n           map.on('keypress', function(e) {\n               console.log(e.originalEvent.code);\n               var key = e.originalEvent.code;\n               if (key === 'KeyE') {\n                   var bb = this.getBounds();\n                   var txt = JSON.stringify(bb);\n                   console.log(txt);\n\n                   setClipboardText('\\'' + txt + '\\'');\n               }\n           })\n        }).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
<div class="section level4">
<h4 id="ggplot-using-sf-2">GGplot using sf<a class="anchor" aria-label="anchor" href="#ggplot-using-sf-2"></a>
</h4>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">geo_sf_poly</span>, <span class="fu">ggplot2</span><span class="fu">::</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">device_id</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="spatial_files/figure-html/unnamed-chunk-14-1.png" width="700"></p>
</div>
<div class="section level4">
<h4 id="leaflet-using-sf-and-extracted-coordinates-1">Leaflet using sf and extracted coordinates<a class="anchor" aria-label="anchor" href="#leaflet-using-sf-and-extracted-coordinates-1"></a>
</h4>
<p>You can show either first extracted coordinate components from plain <code>tbl_df</code> or show the full polygons using <a href="https://github.com/r-spatial/leafem" class="external-link">leafem</a>. See the mapview article on <a href="https://r-spatial.github.io/mapview/articles/articles/mapview_06-add.html" class="external-link">extra functionality</a>.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">leaflet</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/leaflet/reference/leaflet.html" class="external-link">leaflet</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">geo_wkt</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">leaflet</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html" class="external-link">addTiles</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">leaflet</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/leaflet/reference/map-layers.html" class="external-link">addMarkers</a></span><span class="op">(</span></span>
<span>    lng <span class="op">=</span> <span class="op">~</span><span class="va">shape_location_shape_gps_longitude</span>,</span>
<span>    lat <span class="op">=</span> <span class="op">~</span><span class="va">shape_location_shape_gps_latitude</span>,</span>
<span>    label <span class="op">=</span> <span class="op">~</span><span class="va">device_id</span>,</span>
<span>    popup <span class="op">=</span> <span class="op">~</span><span class="va">device_id</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu">leafem</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/leafem/reference/addFeatures.html" class="external-link">addFeatures</a></span><span class="op">(</span><span class="va">geo_sf_poly</span>, label <span class="op">=</span> <span class="op">~</span><span class="va">device_id</span>, popup <span class="op">=</span> <span class="op">~</span><span class="va">device_id</span><span class="op">)</span></span></code></pre></div>
<div class="leaflet html-widget html-fill-item" id="htmlwidget-27c7770c7b7866bc2a43" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-27c7770c7b7866bc2a43">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"https://openstreetmap.org/copyright/\">OpenStreetMap<\/a>,  <a href=\"https://opendatacommons.org/licenses/odbl/\">ODbL<\/a>"}]},{"method":"addMarkers","args":[-31.8713778204221,115.765828192234,null,null,null,{"interactive":true,"draggable":false,"keyboard":true,"title":"","alt":"","zIndexOffset":0,"opacity":1,"riseOnHover":false,"riseOffset":250},"collect:OHnydk6INUIfDHNl",null,null,null,"collect:OHnydk6INUIfDHNl",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addPolygons","args":[[[[{"lng":[115.765828192234,115.7712190970778,115.7707044482231,115.7668360322714,115.7652082666755,115.765828192234],"lat":[-31.8713778204221,-31.87034254210586,-31.86684568687149,-31.86684910378038,-31.86962273778643,-31.8713778204221]}]]],null,null,{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"overlayPane","stroke":true,"color":"#03F","weight":5,"opacity":0.5,"fill":true,"fillColor":"#03F","fillOpacity":0.2,"smoothFactor":1,"noClip":false},"collect:OHnydk6INUIfDHNl",{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"collect:OHnydk6INUIfDHNl",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]}],"limits":{"lat":[-31.8713778204221,-31.86684568687149],"lng":[115.7652082666755,115.7712190970778]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="section level2">
<h2 id="outlook">Outlook<a class="anchor" aria-label="anchor" href="#outlook"></a>
</h2>
<p>The above examples show how to turn spatial data into an <code>sf</code> object, and give very rudimentary visualisation examples to bridge the gap between spatial data coming from ODK and creating maps and further spatial analyses in R.</p>
<p>See the <a href="https://r-spatial.github.io/sf/" class="external-link">sf homepage</a> for more context and examples. The <a href="https://github.com/rstudio/cheatsheets/blob/master/sf.pdf" class="external-link">sf cheatsheet</a> deserves a spatial mention.</p>
<p>Review the options for <a href="https://r-spatial.github.io/mapview/articles/articles/mapview_04-popups.html" class="external-link">mapview popups</a> and the whole <a href="https://r-spatial.github.io/mapview/index.html" class="external-link">mapview</a> homepage for a comprehensive overview of mapview.</p>
<p>The powerful visualisation package <a href="https://cran.r-project.org/package=tmap" class="external-link"><code>tmap</code></a> supports <code>sf</code> objects and produces both printable and static maps as well as interactive <code>leaflet</code> maps. See the <a href="https://cran.r-project.org/web/packages/tmap/vignettes/tmap-getstarted.html" class="external-link">vignette “Get started”</a>.</p>
<p>There are several other good entry points for all things R and spatial, including but not limited to:</p>
<ul>
<li>The <a href="https://cran.r-project.org/view=Spatial" class="external-link">R Spatial CRAN Task View</a>
</li>
<li>The <a href="https://rspatial.org/" class="external-link">RSpatial</a> website</li>
<li>
<a href="https://www.maths.lancs.ac.uk/~rowlings/Teaching/UseR2012/" class="external-link">Geospatial data in R and beyond</a> by <a href="http://barry.rowlingson.com/" class="external-link">Barry Rowlingson</a>
</li>
<li>
<a href="https://www.jessesadler.com/post/gis-with-r-intro/" class="external-link">GIS with R</a> by <a href="https://www.jessesadler.com/page/cv/" class="external-link">Jesse Sadler</a>
</li>
<li>GIS and mapping by <a href="https://oliviergimenez.github.io/" class="external-link">Olivier Gimenez</a>: <a href="https://oliviergimenez.github.io/intro_spatialR/" class="external-link">Slides</a> and <a href="https://github.com/oliviergimenez/intro_spatialR" class="external-link">code</a>
</li>
</ul>
<p>The above list of examples and resources is far from comprehensive. Feel free to <a href="https://github.com/ropensci/ruODK/issues" class="external-link">contribute or suggest</a> other working examples for turning data from <code>ruODK</code> into spatial formats.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>

  

  

  </body>
</html>
